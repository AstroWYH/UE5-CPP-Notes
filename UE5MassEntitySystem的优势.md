实体 本身只是一个标识符，不存储实际数据。
组件 存储在紧凑的数组中，按组件类型组织，以提高访问和处理效率。
通过 FMassEntityManager 和 FMassEntityView 等工具，可以高效地将数据存储到实体中，并访问这些数据进行修改。
这种设计不仅可以处理大量实体，还能够确保高效的内存使用和性能优化，非常适合大规模的游戏场景。

为什么存在紧凑的数组中，就能提高访问效率?

将组件存储在紧凑的数组中，主要是为了优化内存访问模式，从而提高访问和处理效率。以下是这种设计提高效率的几个关键原因：

1. 数据局部性（Data Locality）
缓存局部性：现代 CPU 的性能很大程度上依赖于缓存的效率。将相同类型的数据紧凑地存储在连续的内存块中，可以提高缓存命中率。当 CPU 读取一个数组元素时，缓存行通常会加载周围的多个数据元素（例如 64 字节的数据），这意味着在访问下一个数据时，它很可能已经在缓存中了。
预取优化：当数据是紧凑排列时，CPU 可以更有效地预测接下来需要访问的数据，并提前加载到缓存中，减少等待时间。
2. 顺序访问效率
矢量化（Vectorization）：当数据以数组形式存储时，编译器更容易进行矢量化优化（SIMD 指令），一次操作多个数据元素。矢量化可以显著提高处理数据的速度。
批量处理：紧凑的数组结构使得批量处理更加高效。在游戏或大规模仿真中，通常需要对一大批组件进行相同的操作。将这些数据紧密排列在数组中，可以通过一次迭代高效地处理多个组件。
3. 避免指针间接访问（Avoiding Pointer Dereferencing）
在传统的面向对象编程（OOP）中，对象的数据可能通过指针或引用来访问，这意味着每次访问都需要解引用（dereference）一个指针。解引用不仅增加了计算成本，还可能导致缓存不命中。
通过使用紧凑的数组，避免了指针的间接访问。数据是直接存储在数组中的，通过索引直接访问，提高了访问速度。
4. 内存分配效率
紧凑数组的数据结构意味着更少的内存碎片，因为所有数据都是连续存储的。相比于分散在内存不同位置的对象，这种存储方式更节省内存，并减少了内存分配和释放的开销。

通过将组件数据存储在紧凑的数组中，可以显著提高数据访问的效率，主要得益于更好的缓存局部性、更高效的批量处理和避免了指针间接访问带来的开销。这些优化使得紧凑数组成为大规模数据处理中的一种非常有效的数据结构，尤其适合 Unreal Engine 这种需要处理大量实体的引擎。
